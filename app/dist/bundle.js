!function(e){var n={};function t(i){if(n[i])return n[i].exports;var o=n[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,t),o.l=!0,o.exports}t.m=e,t.c=n,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:i})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(t.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)t.d(i,o,function(n){return e[n]}.bind(null,o));return i},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=4)}([function(e,n,t){var i=t(1),o=t(2);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var a={insert:"head",singleton:!1},r=(i(o,a),o.locals?o.locals:{});e.exports=r},function(e,n,t){"use strict";var i,o=function(){return void 0===i&&(i=Boolean(window&&document&&document.all&&!window.atob)),i},a=function(){var e={};return function(n){if(void 0===e[n]){var t=document.querySelector(n);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(e){t=null}e[n]=t}return e[n]}}(),r=[];function s(e){for(var n=-1,t=0;t<r.length;t++)if(r[t].identifier===e){n=t;break}return n}function l(e,n){for(var t={},i=[],o=0;o<e.length;o++){var a=e[o],l=n.base?a[0]+n.base:a[0],d=t[l]||0,c="".concat(l," ").concat(d);t[l]=d+1;var p=s(c),u={css:a[1],media:a[2],sourceMap:a[3]};-1!==p?(r[p].references++,r[p].updater(u)):r.push({identifier:c,updater:b(u,n),references:1}),i.push(c)}return i}function d(e){var n=document.createElement("style"),i=e.attributes||{};if(void 0===i.nonce){var o=t.nc;o&&(i.nonce=o)}if(Object.keys(i).forEach((function(e){n.setAttribute(e,i[e])})),"function"==typeof e.insert)e.insert(n);else{var r=a(e.insert||"head");if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}return n}var c,p=(c=[],function(e,n){return c[e]=n,c.filter(Boolean).join("\n")});function u(e,n,t,i){var o=t?"":i.media?"@media ".concat(i.media," {").concat(i.css,"}"):i.css;if(e.styleSheet)e.styleSheet.cssText=p(n,o);else{var a=document.createTextNode(o),r=e.childNodes;r[n]&&e.removeChild(r[n]),r.length?e.insertBefore(a,r[n]):e.appendChild(a)}}function f(e,n,t){var i=t.css,o=t.media,a=t.sourceMap;if(o?e.setAttribute("media",o):e.removeAttribute("media"),a&&btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),e.styleSheet)e.styleSheet.cssText=i;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(i))}}var h=null,g=0;function b(e,n){var t,i,o;if(n.singleton){var a=g++;t=h||(h=d(n)),i=u.bind(null,t,a,!1),o=u.bind(null,t,a,!0)}else t=d(n),i=f.bind(null,t,n),o=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)};return i(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap)return;i(e=n)}else o()}}e.exports=function(e,n){(n=n||{}).singleton||"boolean"==typeof n.singleton||(n.singleton=o());var t=l(e=e||[],n);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var i=0;i<t.length;i++){var o=s(t[i]);r[o].references--}for(var a=l(e,n),d=0;d<t.length;d++){var c=s(t[d]);0===r[c].references&&(r[c].updater(),r.splice(c,1))}t=a}}}},function(e,n,t){(n=t(3)(!1)).push([e.i,"html, body, div, span, applet, object, iframe,\nh1, h2, h3, h4, h5, h6, p, blockquote, pre,\na, abbr, acronym, address, big, cite, code,\ndel, dfn, em, img, ins, kbd, q, s, samp,\nsmall, strike, strong, sub, sup, tt, var,\nb, u, i, center,\ndl, dt, dd, ol, ul, li,\nfieldset, form, label, legend,\ntable, caption, tbody, tfoot, thead, tr, th, td,\narticle, aside, canvas, details, embed, \nfigure, figcaption, footer, header, hgroup, \nmenu, nav, output, ruby, section, summary,\ntime, mark, audio, video {\n\tmargin: 0;\n\tpadding: 0;\n\tborder: 0;\n\tfont-size: 100%;\n\tfont: inherit;\n\tvertical-align: baseline;\n}\narticle, aside, details, figcaption, figure, \nfooter, header, hgroup, menu, nav, section {\n\tdisplay: block;\n}\nbody {\n\tline-height: 1;\n}\nol, ul {\n\tlist-style: none;\n}\nblockquote, q {\n\tquotes: none;\n}\nblockquote:before, blockquote:after,\nq:before, q:after {\n\tcontent: '';\n\tcontent: none;\n}\ntable {\n\tborder-collapse: collapse;\n\tborder-spacing: 0;\n}\n\n*{\n    -webkit-user-select: none;\n    -khtml-user-select: none;\n    -moz-user-select: none;\n    -o-user-select: none;\n    user-select: none;\n}\n\nhtml, body, #content {\n    width: 100%;\n}\n\nheader{\n    text-align: center;\n    margin-top: 20px;\n    margin-bottom: 5px;\n    font-size: 100px;\n    color: rgb(0, 81, 255);\n    text-shadow: -1px 1px 2px rgb(197, 27, 4);\n    font-family: 'Bebas Neue', cursive;\n}\n\nmain {\n    width: 90%;\n    margin: 0 auto;\n    text-align: center;\n}\n\n#shipsContainer {\n    display: block;\n    margin: 0 auto;\n    margin-bottom: 20px;\n}\n\n#placeBoard, #computerBoard {\n    display: grid;\n    grid-template-rows: repeat(11, 50px);\n    grid-template-columns: repeat(11, 50px);\n    width: fit-content;\n    margin: 0 auto;\n    margin-top: 40px;\n    margin-bottom: 20px;\n    text-align: center;\n}\n\n#placeBoard {\n    margin-top: 20px;\n}\n\n#playerBoard {\n    display: grid;\n    grid-template-rows: repeat(11, 25px);\n    grid-template-columns: repeat(11, 25px);\n    margin: 0 auto;\n    text-align: center;\n    position: absolute;\n    top: 0;\n    left: 0;\n}\n\n#battleship {\n    background-color: purple;\n    height: 200px;\n    z-index: 99;\n}\n\n#carrier {\n    background-color: aqua;\n    height: 250px;\n}\n\n#destroyer {\n    background-color: rgb(13, 190, 13);\n    height: 150px;\n\n}\n\n#patrol {\n    background-color: orange;\n    height: 100px;\n} \n\n#submarine {\n    background-color: rgb(235, 220, 15);\n    height: 150px;\n}\n\n.Battleship, .Carrier, .Destroyer, .Patrol, .Submarine {\n    height: 24px;\n    width: 25px;\n}\n\n.dropzone {\n   text-align: center;\n}\n\n#buttonContainer {\n    display: flex;\n    justify-content: space-between;\n    width: 100%;\n    text-align: center;\n    margin-bottom: 10px;\n    text-align: left;\n    height: fit-content;\n}\n\n#shipsContainer {\n    display: flex;\n    justify-content: space-between;\n    flex-wrap: wrap;\n    width: 100%;\n    padding-top: 0px;\n    padding-bottom: 20px;\n}\n\n#playerContainer {\n    width: fit-content;\n}\n\n.grid-item {\n    width: 100%;\n    border: 1px solid black;\n}\n\n.ship {\n    z-index: 9;\n    height: 48px;\n    width: 50px;\n    margin: 0 auto;\n    margin-top: 20px;\n    margin-left: 10px;\n    margin-right: 10px;\n}\n\n.square {\n    display: inline-block; \n     -webkit-user-drag: none;\n    -khtml-user-drag: none;\n    -moz-user-drag: none;\n    -o-user-drag: none;\n     -webkit-user-select: none;\n    -khtml-user-select: none;\n    -moz-user-select: none;\n    -o-user-select: none;\n    user-select: none; \n    width: 100%;\n    border: 1px solid black;\n}\n\n.label-top, .label-left, .square {\n    line-height: 3;\n    text-align: center;\n}\n\n.label-top-mini, .label-left-mini {\n    line-height: 1.5;\n    text-align: center;\n}\n\n .label-left, .label-left-mini {\n    border-left: none;\n    background-color: white;\n}\n\n.label-top, .label-top-mini {\n    border-top: none;\n    background-color: white;\n}\n\n#ready {\n    float: right;\n}\n\n.hide {\n    visibility: hidden;\n}\n\n.hidden {\n    display: none;\n}\n\n.blur{\n    -webkit-filter: blur(5px); \n    filter: blur(5px); \n}\n\n.miss{\n    color: blue;\n}\n\n.hit {\n    color: red;\n}\n\n.sunk {\n    color: orangered;\n}\n\n.game-tile{\n    line-height: 1.5;\n}\n\n.Battleship {\n    background-color:purple;\n}\n\n.Carrier {\n    background-color: aqua;\n}\n\n.Destroyer{\n    background-color:rgb(13, 190, 13);\n}\n\n.Patrol {\n    background-color:orange;\n}\n\n.Submarine {\n    background-color:rgb(235, 220, 15);\n}\n\n#btnContainer {\n    text-align: center;\n    margin-bottom: 0px;\n    margin-top: 15%;\n}\n\n#startBtn{\n    line-height: 32px;\n    height: 34px;\n    border: 2px solid rgb(0, 81, 255); \n    font-size: 13px;\n    border-radius: 3.5px;\n    font-family: 'Russo One', sans-serif;\n    color: rgb(61, 59, 59);\n    background-color: white;\n    padding-top: 0px;\n    padding-bottom: 0px;\n}\n\n#rotate, #ready {\n    line-height: 30px;\n    height: 33px;\n    border: 2px solid rgb(0, 81, 255); \n    font-size: 13px;\n    border-radius: 3.5px;\n    font-family: 'Russo One', sans-serif;\n    color: rgb(61, 59, 59);\n    background-color: white;\n}\n\n#ready {\n    border: 2px solid rgb(58, 214, 58); \n}\n\n#toast{\n    width: fit-content;\n    font-family: 'Russo One', sans-serif;\n    margin: 0 auto;\n    margin-top: 20px;\n}\n\n#errorMsg {\n    display: none;\n    position: absolute;\n    border: 2px solid black;\n    font-family: 'Russo One', sans-serif; \n    z-index: 100;\n    border: 2px solid rgb(197, 27, 4);; \n    border-radius: 4px;\n    padding: 5px;\n    width: fit-content;\n    top: 40%;\n    left: 50%;\n    transform: translateY(-40%);\n    transform: translateX(-50%);\n    text-align: center;\n    background-color: rgb(247, 244, 244);\n}\n\n#ok {\n    bottom: 10px;\n    z-index: 99;\n    margin: 0 auto;\n    display: block;\n    border: 2px solid rgb(58, 214, 58); \n    background-color: rgb(58, 214, 58);\n    color: whitesmoke;\n    font-size: 13px;\n    border-radius: 3.5px;\n    font-family: 'Russo One', sans-serif;\n}\n\np {\n    margin: 0 auto;\n    margin-top: 30px;\n    margin-bottom: 30px;\n}\n\n#drag {\n    margin: 0;\n    line-height: 39px;\n    font-family: 'Russo One', sans-serif;\n    font-size: 13px;\n}\n\n#computerBoard {\n    padding-bottom: 20px;\n}\n\n@media screen and (max-width: 1200px) {\n    #computerContainer{\n        margin: 0 auto;\n    }\n\n    #toast {\n        margin-bottom: 20px;\n    }\n    #playerContainer {\n        margin: 0 auto;\n    }\n    #playerBoard {\n        position: relative;\n        \n    }\n    #computerBoard {\n        margin: 0 auto;;\n    }\n}\n\n@media screen and (max-width: 610px){\n    #placeBoard {\n        grid-template-rows: repeat(11, 25px);\n        grid-template-columns: repeat(11, 25px);\n        margin: 0 auto;\n        height: 100%;\n    }\n    .square {\n        line-height: 1.5;\n        height: 100%;\n    }\n    .ship {\n        width: 25px;\n    }\n    #battleship {\n        height: 100px;\n    }\n    #carrier {\n        height: 125px;\n    }\n    #destroyer {\n        height: 75px;\n    }\n    #patrol {\n        height: 50px;\n    } \n    #submarine {\n        height: 75px;\n    }\n    #buttonContainer {\n        margin-top: 15px;\n        margin-bottom: 0px;\n    }\n    #drag {\n        width: 100%;\n        bottom: 0;\n        left: 50%;\n        position: absolute;\n        transform: translateX(-50%);\n        text-align: center;\n    }\n}   \n\n@media screen and (max-width: 610px) {\n    #computerBoard {\n        grid-template-rows: repeat(11, 25px);\n        grid-template-columns: repeat(11, 25px);\n        margin: 0 auto;\n        position: absolute;\n        left: 50%;\n        transform: translateX(-50%);\n    }\n    #playerBoard {\n        left: 50%;\n        transform: translateX(-50%);\n    }\n    .label-top, .label-left {\n        line-height: 1.5;\n        text-align: center;\n    }\n    .square {\n        line-height: 1.5;\n    }\n}   ",""]),e.exports=n},function(e,n,t){"use strict";e.exports=function(e){var n=[];return n.toString=function(){return this.map((function(n){var t=function(e,n){var t=e[1]||"",i=e[3];if(!i)return t;if(n&&"function"==typeof btoa){var o=(r=i,s=btoa(unescape(encodeURIComponent(JSON.stringify(r)))),l="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(s),"/*# ".concat(l," */")),a=i.sources.map((function(e){return"/*# sourceURL=".concat(i.sourceRoot||"").concat(e," */")}));return[t].concat(a).concat([o]).join("\n")}var r,s,l;return[t].join("\n")}(n,e);return n[2]?"@media ".concat(n[2]," {").concat(t,"}"):t})).join("")},n.i=function(e,t,i){"string"==typeof e&&(e=[[null,e,""]]);var o={};if(i)for(var a=0;a<this.length;a++){var r=this[a][0];null!=r&&(o[r]=!0)}for(var s=0;s<e.length;s++){var l=[].concat(e[s]);i&&o[l[0]]||(t&&(l[2]?l[2]="".concat(t," and ").concat(l[2]):l[2]=t),n.push(l))}},n}},function(e,n,t){"use strict";t.r(n);var i=class{constructor(){this.battleshipPosition=null,this.carrierPosition=null,this.destroyerPosition=null,this.patrolPosition=null,this.submarinePosition=null,this.board=[]}generateBoard(){let e=0,n=0;const t=["A","B","C","D","E","F","G","H","I","J"],i=[1,2,3,4,5,6,7,8,9,10];for(let o=0;o<100;o++)this.board[o]=t[e]+i[n],e++,!0===/9$/.test(o)&&(n++,e=0)}placeShips(e,n,t,i,o){this.battleshipPosition=e,this.carrierPosition=n,this.destroyerPosition=t,this.patrolPosition=i,this.submarinePosition=o;for(let a=0,r=0;a<this.board.length;a++,r++)r>4&&(r=0),this.board[a]===e[r]?this.board.splice(a,1,"Battleship"):this.board[a]===n[r]?this.board.splice(a,1,"Carrier"):this.board[a]===t[r]?this.board.splice(a,1,"Destroyer"):this.board[a]===i[r]?this.board.splice(a,1,"Patrol"):this.board[a]===o[r]&&this.board.splice(a,1,"Submarine")}};var o=class{constructor(){this.position=[]}};var a=class extends o{constructor(e,n){super(e),this.type="Battleship",this.orientation=n,this.size=4}};var r=class{constructor(){this.turn=!1}};var s=class extends o{constructor(e,n){super(e),this.type="Destroyer",this.size=3,this.orientation=n}};var l=class{constructor(){this.turn=!1}};var d=class extends o{constructor(e,n){super(e),this.type="Carrier",this.size=5,this.orientation=n}};var c=class extends o{constructor(e,n){super(e),this.type="Patrol",this.size=2,this.orientation=n}};var p=class extends o{constructor(e,n){super(e),this.type="Submarine",this.size=3,this.orientation=n}};var u=()=>{document.getElementById("content").innerHTML='\n    <header>Battleship</header>\n    <div id="btnContainer">\n        <button id="startBtn">Start Game</button>\n    <div>'};var f=e=>{document.getElementById("content").innerHTML=`\n    <header>Battleship</header>\n    <div id="errorMsg">\n         <button id="ok">OK</button>\n    </div>\n    <main id="mainContent">\n        <div id="placeBoard">${e}</div>\n        <div id="shipsContainer" class="dropzone">\n            <div id="buttonContainer">\n                <button id="rotate">Rotate Ships</button>\n                <p id="drag">Drag ships to board to place positions</p>\n                <button id="ready">Ready</button>\n            </div>\n            <div class="ship" id="battleship" draggable="true" ondragstart="event.dataTransfer.setData('text/plain',null)"></div>\n            <div class="ship" id="carrier" draggable="true" ondragstart="event.dataTransfer.setData('text/plain',null)"></div>\n            <div class="ship" id="destroyer" draggable="true" ondragstart="event.dataTransfer.setData('text/plain',null)"></div>\n            <div class="ship" id="patrol" draggable="true" ondragstart="event.dataTransfer.setData('text/plain',null)"></div>\n            <div class="ship" id="submarine" draggable="true" ondragstart="event.dataTransfer.setData('text/plain',null)"></div>\n        </div>\n    </main>`};var h=(e,n)=>{document.getElementById("content").innerHTML=`\n    <header>Battleship</header>\n    <div id="playerContainer">\n        <div id="playerBoard">${e}</div>\n    </div>\n    <div id="errorMsg">\n            <button id="ok">OK</button>\n        </div>\n    <main id="mainContent">\n    <div id="toast" class="hide">Text</div>\n    <div id="computerContainer">\n        <div id="computerBoard">${n}</div>\n    </div>\n    </main>`};t(0);u(),function e(){const n=new r;n.Battleship=new a,n.Carrier=new d,n.Destroyer=new s,n.Patrol=new c,n.Submarine=new p,n.Gameboard=new i;const t=new l;function o(e,i,o){let a=function(e,n){let t=!1,i=!1;for(let o=0;o<n.length&&!0!==i;o++)for(let a=0;a<n[o].position.length;a++)if(e===n[o].position[a]){n[o].position.splice(a,1,e+" - Hit"),t=!0,i=!0;break}return t}(e,i),r=document.getElementById("playerBoard");if(!0===a){let a=function(e,n){let t=!1,i=0,o="";for(let n=0;n<e.length;n++)if("Sunk"!==e[n].position[e[n].position.length-1]){let t=e[n].position.filter(e=>{if(!0===/(- Hit)$/.test(e))return e});if(e[n].position[t.length-1]===e[n].position[e[n].position.length-1]){o=n;break}}if(!0===/\d/.test(o))for(let n=0;n<e[o].position.length;n++){if(!1===/(- Hit)$/.test(e[o].position[n])){i=0;break}if(!0===/(- Hit)$/.test(e[o].position[n])&&i++,!0===/(- Hit)$/.test(e[o].position[n])&&i===e[o].position.length){t=!0;break}}return{sunk:t,index:o}}(i);if(o===n.Gameboard.board&&!1===a.sunk){async function s(){const e=document.getElementById("toast");await g(1e3),e.classList.add("hide")}o.splice(o.indexOf(e),1,e+" - Hit"),toast.classList.remove("hide"),toast.style.color="red",toast.innerText="Hit",s()}else if(o===t.Gameboard.board&&!1===a.sunk){o.splice(o.indexOf(e),1,e+" - Hit");for(let n=10;n<r.children.length;n++)e===r.children[n].id&&(r.children[n].innerText="x",r.children[n].style.color="red")}else if(!0===a.sunk){o.splice(o.indexOf(e),1,e+" - Hit");for(let e=0;e<i[a.index].position.length;e++)null!==i[a.index].position[e].match(/^(\w10)/i)?o.splice(o.indexOf(i[a.index].position[e]),1,i[a.index].position[e].match(/^(\w10)/i)[0]+" - Sunk"):o.splice(o.indexOf(i[a.index].position[e]),1,i[a.index].position[e].match(/^(\w\d)/i)[0]+" - Sunk"),i[a.index].position[e]="Sunk";function l(e){let n=o.filter(e=>{if(!0===/(Sunk)$/.test(e))return e});for(let t=10;t<e.children.length;t++)for(let i=0;i<n.length;i++)null!==n[i].match(/^(\w10)/i)?n[i].match(/^(\w10)/i)[0]===e.children[t].id&&(e.children[t].innerText="X",e.children[t].style.color="black",e.children[t].style.backgroundColor="orangered"):n[i].match(/^(\w\d -)/i)[0].match(/^(\w\d)/i)[0]===e.children[t].id&&(e.children[t].innerText="X",e.children[t].style.color="black",e.children[t].style.backgroundColor="orangered")}if(o===n.Gameboard.board){async function s(){const e=document.getElementById("toast");await g(1e3),e.classList.add("hide"),b("You",i)}l(computerBoard),toast.classList.remove("hide"),toast.style.color="orangered",toast.innerText="Ship sunk!",s()}else o===t.Gameboard.board&&(l(r),b("The Computer",i))}}else if(o.splice(o.indexOf(e),1,"Miss"),o===n.Gameboard.board){async function s(){const e=document.getElementById("toast");await g(1e3),e.classList.add("hide")}toast.classList.remove("hide"),toast.style.color="blue",toast.innerText="Miss",s()}else if(o===t.Gameboard.board)for(let n=10;n<r.children.length;n++)e===r.children[n].id&&(r.children[n].innerText="o",r.children[n].style.color="blue")}function g(e){return new Promise(n=>setTimeout(n,e))}function b(n,t){let i=!1,o=0;for(let e=0;e<t.length;e++)for(let n=0;n<t[e].position.length;n++)"Sunk"===t[e].position[n]&&o++,"Sunk"===t[e].position[n]&&17===o&&(i=!0);if(!i)return!1;{async function a(){const n=document.getElementById("toast");await g(3e3),n.classList.add("hide"),u(),e()}toast.classList.remove("hide"),toast.style.color="black",toast.innerText=`${n} won!`,a()}}t.Battleship=new a,t.Carrier=new d,t.Destroyer=new s,t.Patrol=new c,t.Submarine=new p,t.Gameboard=new i,document.getElementById("startBtn").addEventListener("click",()=>{n.Gameboard.generateBoard();let e=function(e){let n='\n        <div class="square label-top label-left" draggable="false"></div>\n        <div class="square label-top" draggable="false">A</div>\n        <div class="square label-top" draggable="false">B</div>\n        <div class="square label-top" draggable="false">C</div>\n        <div class="square label-top" draggable="false">D</div>\n        <div class="square label-top" draggable="false">E</div>\n        <div class="square label-top" draggable="false">F</div>\n        <div class="square label-top" draggable="false">G</div>\n        <div class="square label-top" draggable="false">H</div>\n        <div class="square label-top" draggable="false">I</div>\n        <div class="square label-top" draggable="false">J</div>',t=[1,2,3,4,5,6,7,8,9,10];return e.forEach(e=>{!0===/A\d$|A\d\d$/.test(e)?(n+=`<div class="square label-left" draggable="false">${t[0]}</div><div id=${e} class="square dropzone"></div>`,t.splice(0,1)):n+=`<div id=${e} class="square dropzone"></div>`}),n}(n.Gameboard.board);f(e);const i=document.getElementById("battleship"),a=document.getElementById("carrier"),r=document.getElementById("destroyer"),s=document.getElementById("patrol"),l=document.getElementById("submarine"),d=document.getElementById("shipsContainer"),c=[i,a,r,s,l],p=document.getElementById("rotate"),u=document.getElementById("ready");let g;c.forEach(e=>{e.orientation="vertical"}),p.addEventListener("click",()=>{c.forEach(e=>{let n=getComputedStyle(e).height,t=getComputedStyle(e).width;e.parentNode===d&&(!function(e){"vertical"===e.orientation?e.orientation="horizontal":e.orientation="vertical"}(e),e.style.height=t,e.style.width=n)})}),c.forEach(e=>{e.addEventListener("drag",(function(e){}),!1),e.addEventListener("dragend",(function(e){e.target.style.opacity=""}),!1)}),document.addEventListener("dragstart",(function(e){g=e.target,g!=i&&g!=a&&g!=r&&g!=s&&g!=l||(e.target.style.opacity=.5)}),!1),document.addEventListener("dragover",(function(e){e.preventDefault()}),!1),document.addEventListener("drop",(function(e){if(e.preventDefault(),e.target.classList.value.includes("dropzone")&&(g==i||g==a||g==r||g==s||g==l)){e.target.style.background="none",g.parentNode.removeChild(g),e.target.classList.contains("square")?(g.style.marginTop="0px",g.style.marginLeft="0px",g.style.marginRight="0px"):(g.style.marginTop="10px",g.style.marginLeft="10px",g.style.marginRight="0px"),e.target.appendChild(g);let i=[(o=g).id,o.orientation,e.target.id];"battleship"===(t=i)[0]?(n.Battleship.orientation=t[1],n.Battleship.position[0]=t[2]):"carrier"===t[0]?(n.Carrier.orientation=t[1],n.Carrier.position[0]=t[2]):"destroyer"===t[0]?(n.Destroyer.orientation=t[1],n.Destroyer.position[0]=t[2]):"patrol"===t[0]?(n.Patrol.orientation=t[1],n.Patrol.position[0]=t[2]):"submarine"===t[0]&&(n.Submarine.orientation=t[1],n.Submarine.position[0]=t[2])}var t,o}),!1),u.addEventListener("click",()=>{const e=[n.Battleship,n.Carrier,n.Destroyer,n.Patrol,n.Submarine];if(!0===function(e,n){e.forEach(e=>{const t=e.position[0];if("vertical"===e.orientation)for(let i=1,o=10;i<e.size;i++)e.position[i]=n[n.indexOf(t)+o],o+=10;else if("horizontal"===e.orientation)for(let i=1,o=1;i<e.size;i++)e.position[i]=n[n.indexOf(t)+o],o+=1});let t=e[0].position.concat(e[1].position,e[2].position,e[3].position,e[4].position),i=!0;for(let e=0;e<t.length;e++)if(t.indexOf(t[e])!==t.lastIndexOf(t[e])){i=!1;break}return!(t.length<17||!0===t.includes(void 0)||!0===t.includes(null))&&i}(e,n.Gameboard.board)){a=n.Battleship,r=n.Carrier,s=n.Destroyer,l=n.Patrol,d=n.Submarine,c=n.Gameboard.board,a.position.forEach(e=>{let n=c.indexOf(e);c.splice(n,1,"Battleship")}),r.position.forEach(e=>{let n=c.indexOf(e);c.splice(n,1,"Carrier")}),s.position.forEach(e=>{let t=n.Gameboard.board.indexOf(e);c.splice(t,1,"Destroyer")}),l.position.forEach(e=>{let t=n.Gameboard.board.indexOf(e);c.splice(t,1,"Patrol")}),d.position.forEach(e=>{let n=c.indexOf(e);c.splice(n,1,"Submarine")});let p=[t.Battleship,t.Carrier,t.Destroyer,t.Patrol,t.Submarine],u=function(){let e='\n        <div class="square label-top-mini label-left-mini" draggable="false"></div>\n        <div class="square label-top-mini" draggable="false">A</div>\n        <div class="square label-top-mini" draggable="false">B</div>\n        <div class="square label-top-mini" draggable="false">C</div>\n        <div class="square label-top-mini" draggable="false">D</div>\n        <div class="square label-top-mini" draggable="false">E</div>\n        <div class="square label-top-mini" draggable="false">F</div>\n        <div class="square label-top-mini" draggable="false">G</div>\n        <div class="square label-top-mini" draggable="false">H</div>\n        <div class="square label-top-mini" draggable="false">I</div>\n        <div class="square label-top-mini" draggable="false">J</div>',t=[1,2,3,4,5,6,7,8,9,10],i=function(){let e=0,n=0;const t=["A","B","C","D","E","F","G","H","I","J"],i=[1,2,3,4,5,6,7,8,9,10],o=[];for(let a=0;a<100;a++)o[a]=t[e]+i[n],e++,!0===/9$/.test(a)&&(n++,e=0);return o}();for(let o=0;o<n.Gameboard.board.length;o++)!0===/A\d$|A\d\d$/.test(n.Gameboard.board[o])||!0===/\w$/.test(n.Gameboard.board[o])&&!0===/0$/.test(o)?(e+=`<div class="square label-left-mini" draggable="false">${t[0]}</div><div id="${i[o]}" class="square game-tile ${n.Gameboard.board[o]}"></div>`,t.splice(0,1)):e+=`<div id="${i[o]}" class="square game-tile ${n.Gameboard.board[o]}"></div>`;return e}();t.Gameboard.generateBoard(),function(){let e=[];for(let n=0;n<5;n++)e[n]=Math.floor(2*Math.random()),0===e[n]?e[n]="Vertical":e[n]="Horizontal";t.Battleship.orientation=e[0],t.Carrier.orientation=e[1],t.Destroyer.orientation=e[2],t.Patrol.orientation=e[3],t.Submarine.orientation=e[4]}(),function e(n,i){let o=t.Gameboard.board;for(let t=0;t<n.length;t++){let r=i||Math.floor(2*Math.random());if(!0!==/(Sunk)$/.test(n[t].position[0])){!1===/\d$/.test(n[t].position[0])&&!1===/(- Hit)$/.test(n[t].position[0])&&!1===/(Sunk)$/.test(n[t].position[0])&&(n[t].position[0]=o[Math.floor(Math.random()*o.length)]);for(let i=1;i<n[t].size;i++){function a(n,a,r){0===n&&/\d$/.test(!1===o[o.indexOf(r[t].position[i-1])+a])||0===n&&o[o.indexOf(r[t].position[i-1])]!==o[r[t].position[0]]?(r[t].position.splice(0),e(r,n)):0===n&&!0===/\d$/.test(o[o.indexOf(r[t].position[i-1])+a])?r[t].position[i]=o[o.indexOf(r[t].position[i-1])+a]:1===n&&!1===/\d$/.test(o[o.indexOf(r[t].position[i-1])-a])||1===n&&o[o.indexOf(r[t].position[i-1])]!==o[r[t].position[0]]?(r[t].position.splice(0),e(r,n)):1===n&&!0===/\d$/.test(o[o.indexOf(r[t].position[i-1])-a])&&(r[t].position[i]=o[o.indexOf(r[t].position[i])-a])}/\d$/.test(!1===n[t].position[i-1])&&/(- Hit)$/.test(!1===n[t].position[i-1])&&i>=2?(n[t].splice(1),i=1):"Horizontal"===n[t].orientation?0===r&&!1===/\d$/.test(o[o.indexOf(n[t].position[i-1])+1])||!0===/^J/i.test(o[o.indexOf(n[t].position[i-1])])&&!0===/^A/i.test(o[o.indexOf(n[t].position[i-1])+1])?(r=1,a(r,1,n)):0===r&&!0===/\d$/.test(o[o.indexOf(n[t].position[i-1])+1])?n[t].position[i]=o[o.indexOf(n[t].position[i-1])+1]:1===r&&!1===/\d$/.test(o[o.indexOf(n[t].position[i-1])-1])||!0===/^A/i.test(o[o.indexOf(n[t].position[i-1])])&&!0===/^J/i.test(o[o.indexOf(n[t].position[i-1])-1])?(r=0,a(r,1,n)):1===r&&!0===/\d$/i.test(o[o.indexOf(n[t].position[i-1])-1])&&(n[t].position[i]=o[o.indexOf(n[t].position[i-1])-1]):"Vertical"===n[t].orientation&&(0===r&&!1===/\d$/.test(o[o.indexOf(n[t].position[i-1])+10])?(r=1,a(r,10,n)):0===r&&!0===/\d$/.test(o[o.indexOf(n[t].position[i-1])+10])?n[t].position[i]=o[o.indexOf(n[t].position[i-1])+10]:1===r&&!1===/\d$/.test(o[o.indexOf(n[t].position[i-1])-10])?(r=0,a(r,10,n)):1===r&&!0===/\d$/.test(o[o.indexOf(n[t].position[i-1])-10])&&(n[t].position[i]=o[o.indexOf(n[t].position[i-1])-10]))}}}!function(e){const n=e[0].position.concat(e[1].position,e[2].position,e[3].position,e[4].position);n.forEach(t=>{if(n.lastIndexOf(t)!==n.indexOf(t)){let i=n.lastIndexOf(t);i>0&&i<=3?e[0].position.splice(0):i>3&&i<9?e[1].position.splice(0):i>=9&&i<12?e[2].position.splice(0):i>=12&&i<14?e[3].position.splice(0):i>=14&&i<17&&e[4].position.splice(0)}})}(n),!0===function(e){let n=!0;for(let t=0;t<e.length&&!1!==n;t++)for(let i=0;i<e[t].size&&!1!==n;i++)if(!0!==/\d$/.test(e[t].position[i])){n=!1;break}return n}(n)||e(n)}(p);let f=function(e){let n='\n        <div class="square label-top label-left" draggable="false"></div>\n        <div class="square label-top" draggable="false">A</div>\n        <div class="square label-top" draggable="false">B</div>\n        <div class="square label-top" draggable="false">C</div>\n        <div class="square label-top" draggable="false">D</div>\n        <div class="square label-top" draggable="false">E</div>\n        <div class="square label-top" draggable="false">F</div>\n        <div class="square label-top" draggable="false">G</div>\n        <div class="square label-top" draggable="false">H</div>\n        <div class="square label-top" draggable="false">I</div>\n        <div class="square label-top" draggable="false">J</div>',t=[1,2,3,4,5,6,7,8,9,10];return e.forEach(e=>{!0===/A\d$|A\d\d$/.test(e)?(n+=`<div class="square label-left" draggable="false">${t[0]}</div><div id=${e} class="square game"></div>`,t.splice(0,1)):n+=`<div id=${e} class="square game"></div>`}),n}(t.Gameboard.board);h(u,f);const g=document.querySelectorAll(".game");let b=p[0].position.concat(p[1].position,p[2].position,p[3].position,p[4].position);n.Gameboard.generateBoard();let m=t.Gameboard.board;const x=document.getElementById("errorMsg");document.getElementById("mainContent");function i(){if(!0===t.turn){let a=m.filter(e=>{if(!0===/(- Hit)$/.test(e))return e}),r=a[Math.floor(Math.random()*a.length)];if(!0===/(- Hit)$/.test(r))!function e(n,t,i,a,r,s,l,d){let c,p,u=l.filter(e=>{if(!1===/(- Hit)$/.test(e)&&!1===/(Miss)$/.test(e)&&!1===/(- Sunk)$/.test(e))return e});if(void 0===s&&(c=u[Math.floor(Math.random()*u.length)],o(c,r,l)),!0===/^A/.test(l[l.indexOf(s)])&&!0===/^J/.test(l[l.indexOf(s)-1])&&(t=!1),!0===/^J/.test(l[l.indexOf(s)])&&!0===/^A/.test(l[l.indexOf(s)+1])&&(n=!1),l.includes(s))if(n&&t&&i&&a)p=Math.floor(2*Math.random()),0===p?(p=Math.floor(2*Math.random()),0===p?(c=l[l.indexOf(s)+1],o(c,r,l)):1===p&&(c=l[l.indexOf(s)-1],o(c,r,l))):1===p&&(p=Math.floor(2*Math.random()),0===p&&(p=Math.floor(2*Math.random()),0===p?(c=l[l.indexOf(s)+10],o(c,r,l)):1===p&&(c=l[l.indexOf(s)-10],o(c,r,l))));else if(n&&t&&i&&!a)p=Math.floor(2*Math.random()),0===p?(p=Math.floor(2*Math.random()),0===p?(c=l[l.indexOf(s)+1],o(c,r,l)):1===p&&(c=l[l.indexOf(s)-1],o(c,r,l))):1===p&&(c=l[l.indexOf(s)+10],o(c,r,l));else if(n&&t&&a&&!i)p=Math.floor(2*Math.random()),0===p?(p=Math.floor(2*Math.random()),0===p?(c=l[l.indexOf(s)+1],o(c,r,l)):1===p&&(c=l[l.indexOf(s)-1],o(c,r,l))):1===p&&(c=l[l.indexOf(s)-10],o(c,r,l));else if(t&&i&&a&&!n)p=Math.floor(2*Math.random()),0===p?(c=l[l.indexOf(s)-1],o(c,r,l)):1===p&&(p=Math.floor(2*Math.random()),0===p?(c=l[l.indexOf(s)+10],o(c,r,l)):1===p&&(c=l[l.indexOf(s)-10],o(c,r,l)));else if(n&&i&&a&&!t)p=Math.floor(2*Math.random()),0===p?(c=l[l.indexOf(s)+1],o(c,r,l)):1===p&&(p=Math.floor(2*Math.random()),0===p?(c=l[l.indexOf(s)+10],o(c,r,l)):1===p&&(c=l[l.indexOf(s)-10],o(c,r,l)));else if(n&&t&&!i&&!a)p=Math.floor(2*Math.random()),0===p?(c=l[l.indexOf(s)+1],o(c,r,l)):1===p&&(c=l[l.indexOf(s)-1],o(c,r,l));else if(!n&&!t&&i&&a)p=Math.floor(2*Math.random()),0===p?(c=l[l.indexOf(s)+10],o(c,r,l)):1===p&&(c=l[l.indexOf(s)-10],o(c,r,l));else if(n&&!t&&i&&!a)p=Math.floor(2*Math.random()),0===p?(c=l[l.indexOf(s)+1],o(c,r,l)):1===p&&(c=l[l.indexOf(s)+10],o(c,r,l));else if(n&&!t&&!i&&a)p=Math.floor(2*Math.random()),0===p?(c=l[l.indexOf(s)+1],o(c,r,l)):1===p&&(c=l[l.indexOf(s)-10],o(c,r,l));else if(!n&&t&&i&&!a)p=Math.floor(2*Math.random()),0===p?(c=l[l.indexOf(s)-1],o(c,r,l)):1===p&&(c=l[l.indexOf(s)+10],o(c,r,l));else if(n&&!t&&!i&&a)p=Math.floor(2*Math.random()),0===p?(c=l[l.indexOf(s)+1],o(c,r,l)):1===p&&(c=l[l.indexOf(s)-10],o(c,r,l));else if(!n&&t&&!i&&a)p=Math.floor(2*Math.random()),0===p?(c=l[l.indexOf(s)-1],o(c,r,l)):1===p&&(c=l[l.indexOf(s)-10],o(c,r,l));else if(!n||t||i||a)if(!t||n||i||a)if(n||t||!i||a)if(n||t||i||!a)if(n||t||i||a){let e=l.filter(e=>{if(!1===/(- Hit)$/.test(e)&&"Miss"!==e&&!1===/(- Sunk)$/.test(e))return e});c=e[Math.floor(Math.random()*e.length)],o(c,r,l)}else{d.splice(d.indexOf(s),1);let n=d[Math.floor(Math.random()*d.length)];e(/\d$/.test(l[l.indexOf(n)+1]),/\d$/.test(l[l.indexOf(n)-1]),/\d$/.test(l[l.indexOf(n)+10]),/\d$/.test(l[l.indexOf(n)-10]),r,n,l,d)}else c=l[l.indexOf(s)-10],o(c,r,l);else c=l[l.indexOf(s)+10],o(c,r,l);else c=l[l.indexOf(s)-1],o(c,r,l);else c=l[l.indexOf(s)+1],o(c,r,l)}(/\d$/.test(m[m.indexOf(r)+1]),/\d$/.test(m[m.indexOf(r)-1]),/\d$/.test(m[m.indexOf(r)+10]),/\d$/.test(m[m.indexOf(r)-10]),e,r,m,a);else{let n=m.filter(e=>{if(!1===/(- Hit)$/.test(e)&&!1===/(Miss)$/.test(e)&&!1===/(Sunk)$/.test(e))return e});o(n[Math.floor(Math.random()*n.length)],e,m)}t.turn=!1,n.turn=!0,i()}}g.forEach(e=>{e.addEventListener("click",()=>{if(e.classList.contains("game")){e.style.pointerEvents="auto";for(let a=0;a<b.length;a++){if("x"===e.innerText||"o"===e.innerText||"X"===e.innerText){x.innerHTML='\n                                    <p>You can\'t select a position that is already taken</p>\n                                    <button id="ok">OK</button>',x.style.display="block",document.getElementById("ok").addEventListener("click",()=>{x.style.display="none"}),i();break}if(e.id===b[a]&&""===e.innerText){e.innerText="x",e.style.backgroundColor="red",b.splice(a,1),n.turn=!1,o(e.id,p,n.Gameboard.board),t.turn=!0,i();break}if(a===b.length-1){e.innerText="o",e.style.color="blue",n.turn=!1,o(e.id,p,n.Gameboard.board),t.turn=!0,i();break}}}})}),function(){const e=document.getElementById("toast");0===Math.floor(2*Math.random())?(n.turn=!0,e.classList.remove("hide"),e.innerText="Your turn - click a position on the empty board to attack"):t.turn=!0}(),i()}else document.getElementById("errorMsg").innerHTML='\n                <p>One or more ships is improperly placed</p>\n                <button id="ok">OK</button>',document.getElementById("errorMsg").style.display="block",document.getElementById("ok").addEventListener("click",()=>{document.getElementById("errorMsg").style.display="none"});var a,r,s,l,d,c})})}()}]);