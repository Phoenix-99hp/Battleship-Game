!function(n){var e={};function t(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return n[i].call(o.exports,o,o.exports,t),o.l=!0,o.exports}t.m=n,t.c=e,t.d=function(n,e,i){t.o(n,e)||Object.defineProperty(n,e,{enumerable:!0,get:i})},t.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},t.t=function(n,e){if(1&e&&(n=t(n)),8&e)return n;if(4&e&&"object"==typeof n&&n&&n.__esModule)return n;var i=Object.create(null);if(t.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:n}),2&e&&"string"!=typeof n)for(var o in n)t.d(i,o,function(e){return n[e]}.bind(null,o));return i},t.n=function(n){var e=n&&n.__esModule?function(){return n.default}:function(){return n};return t.d(e,"a",e),e},t.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},t.p="",t(t.s=4)}([function(n,e,t){var i=t(1),o=t(2);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[n.i,o,""]]);var a={insert:"head",singleton:!1},r=(i(o,a),o.locals?o.locals:{});n.exports=r},function(n,e,t){"use strict";var i,o=function(){return void 0===i&&(i=Boolean(window&&document&&document.all&&!window.atob)),i},a=function(){var n={};return function(e){if(void 0===n[e]){var t=document.querySelector(e);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(n){t=null}n[e]=t}return n[e]}}(),r=[];function s(n){for(var e=-1,t=0;t<r.length;t++)if(r[t].identifier===n){e=t;break}return e}function l(n,e){for(var t={},i=[],o=0;o<n.length;o++){var a=n[o],l=e.base?a[0]+e.base:a[0],d=t[l]||0,c="".concat(l," ").concat(d);t[l]=d+1;var p=s(c),u={css:a[1],media:a[2],sourceMap:a[3]};-1!==p?(r[p].references++,r[p].updater(u)):r.push({identifier:c,updater:b(u,e),references:1}),i.push(c)}return i}function d(n){var e=document.createElement("style"),i=n.attributes||{};if(void 0===i.nonce){var o=t.nc;o&&(i.nonce=o)}if(Object.keys(i).forEach((function(n){e.setAttribute(n,i[n])})),"function"==typeof n.insert)n.insert(e);else{var r=a(n.insert||"head");if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(e)}return e}var c,p=(c=[],function(n,e){return c[n]=e,c.filter(Boolean).join("\n")});function u(n,e,t,i){var o=t?"":i.media?"@media ".concat(i.media," {").concat(i.css,"}"):i.css;if(n.styleSheet)n.styleSheet.cssText=p(e,o);else{var a=document.createTextNode(o),r=n.childNodes;r[e]&&n.removeChild(r[e]),r.length?n.insertBefore(a,r[e]):n.appendChild(a)}}function f(n,e,t){var i=t.css,o=t.media,a=t.sourceMap;if(o?n.setAttribute("media",o):n.removeAttribute("media"),a&&btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),n.styleSheet)n.styleSheet.cssText=i;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(i))}}var h=null,g=0;function b(n,e){var t,i,o;if(e.singleton){var a=g++;t=h||(h=d(e)),i=u.bind(null,t,a,!1),o=u.bind(null,t,a,!0)}else t=d(e),i=f.bind(null,t,e),o=function(){!function(n){if(null===n.parentNode)return!1;n.parentNode.removeChild(n)}(t)};return i(n),function(e){if(e){if(e.css===n.css&&e.media===n.media&&e.sourceMap===n.sourceMap)return;i(n=e)}else o()}}n.exports=function(n,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=o());var t=l(n=n||[],e);return function(n){if(n=n||[],"[object Array]"===Object.prototype.toString.call(n)){for(var i=0;i<t.length;i++){var o=s(t[i]);r[o].references--}for(var a=l(n,e),d=0;d<t.length;d++){var c=s(t[d]);0===r[c].references&&(r[c].updater(),r.splice(c,1))}t=a}}}},function(n,e,t){(e=t(3)(!1)).push([n.i,"html, body, div, span, applet, object, iframe,\nh1, h2, h3, h4, h5, h6, p, blockquote, pre,\na, abbr, acronym, address, big, cite, code,\ndel, dfn, em, img, ins, kbd, q, s, samp,\nsmall, strike, strong, sub, sup, tt, var,\nb, u, i, center,\ndl, dt, dd, ol, ul, li,\nfieldset, form, label, legend,\ntable, caption, tbody, tfoot, thead, tr, th, td,\narticle, aside, canvas, details, embed, \nfigure, figcaption, footer, header, hgroup, \nmenu, nav, output, ruby, section, summary,\ntime, mark, audio, video {\n\tmargin: 0;\n\tpadding: 0;\n\tborder: 0;\n\tfont-size: 100%;\n\tfont: inherit;\n\tvertical-align: baseline;\n}\narticle, aside, details, figcaption, figure, \nfooter, header, hgroup, menu, nav, section {\n\tdisplay: block;\n}\nbody {\n\tline-height: 1;\n}\nol, ul {\n\tlist-style: none;\n}\nblockquote, q {\n\tquotes: none;\n}\nblockquote:before, blockquote:after,\nq:before, q:after {\n\tcontent: '';\n\tcontent: none;\n}\ntable {\n\tborder-collapse: collapse;\n\tborder-spacing: 0;\n}\n\n*{\n    -webkit-user-select: none;\n    -khtml-user-select: none;\n    -moz-user-select: none;\n    -o-user-select: none;\n    user-select: none;\n}\n\nhtml, body, #content {\n    width: 100%;\n}\n\nheader{\n    text-align: center;\n    margin-top: 10px;\n    margin-bottom: 5px;\n    font-size: 100px;\n    color: rgb(0, 81, 255);\n    text-shadow: -1px 1px 2px rgb(197, 27, 4);\n    font-family: 'Bebas Neue', cursive;\n}\n\nmain {\n    width: 90%;\n    margin: 0 auto;\n    text-align: center;\n}\n\n#shipsContainer {\n    display: block;\n    margin: 0 auto;\n    margin-bottom: 20px;\n}\n\n#placeBoard, #computerBoard {\n    display: grid;\n    grid-template-rows: repeat(11, 50px);\n    grid-template-columns: repeat(11, 50px);\n    width: fit-content;\n    margin: 0 auto;\n    margin-top: 40px;\n    margin-bottom: 20px;\n    text-align: center;\n}\n\n#placeBoard {\n    margin-top: 20px;\n}\n\n#playerBoard {\n    display: grid;\n    grid-template-rows: repeat(11, 25px);\n    grid-template-columns: repeat(11, 25px);\n    margin: 0 auto;\n    text-align: center;\n    position: absolute;\n    top: 0;\n    left: 0;\n}\n\n#battleship {\n    background-color: purple;\n    height: 200px;\n    z-index: 99;\n}\n\n#carrier {\n    background-color: aqua;\n    height: 250px;\n}\n\n#destroyer {\n    background-color: rgb(13, 190, 13);\n    height: 150px;\n\n}\n\n#patrol {\n    background-color: orange;\n    height: 100px;\n} \n\n#submarine {\n    background-color: rgb(235, 220, 15);\n    height: 150px;\n}\n\n.Battleship, .Carrier, .Destroyer, .Patrol, .Submarine {\n    height: 24px;\n    width: 25px;\n}\n\n.dropzone {\n   text-align: center;\n}\n\n#buttonContainer {\n    display: flex;\n    justify-content: space-between;\n    width: 100%;\n    text-align: center;\n    margin-bottom: 10px;\n    text-align: left;\n    height: fit-content;\n}\n\n#shipsContainer {\n    display: flex;\n    justify-content: space-between;\n    flex-wrap: wrap;\n    width: 100%;\n    padding-top: 0px;\n    padding-bottom: 20px;\n}\n\n#playerContainer {\n    width: fit-content;\n}\n\n.grid-item {\n    width: 100%;\n    border: 1px solid black;\n}\n\n.ship {\n    z-index: 9;\n    height: 48px;\n    width: 50px;\n    margin: 0 auto;\n    margin-top: 20px;\n    margin-left: 10px;\n    margin-right: 10px;\n}\n\n.square {\n    display: inline-block; \n     -webkit-user-drag: none;\n    -khtml-user-drag: none;\n    -moz-user-drag: none;\n    -o-user-drag: none;\n     -webkit-user-select: none;\n    -khtml-user-select: none;\n    -moz-user-select: none;\n    -o-user-select: none;\n    user-select: none; \n    width: 100%;\n    border: 1px solid black;\n}\n\n.label-top, .label-left, .square {\n    line-height: 3;\n    text-align: center;\n}\n\n.label-top-mini, .label-left-mini {\n    line-height: 1.5;\n    text-align: center;\n}\n\n .label-left, .label-left-mini {\n    border-left: none;\n    background-color: white;\n}\n\n.label-top, .label-top-mini {\n    border-top: none;\n    background-color: white;\n}\n\n#ready {\n    float: right;\n}\n\n.hide {\n    visibility: hidden;\n}\n\n.hidden {\n    display: none;\n}\n\n.blur{\n    -webkit-filter: blur(5px); \n    filter: blur(5px); \n}\n\n.miss{\n    color: blue;\n}\n\n.hit {\n    color: red;\n}\n\n.sunk {\n    color: orangered;\n}\n\n.game-tile{\n    line-height: 1.5;\n}\n\n.Battleship {\n    background-color:purple;\n}\n\n.Carrier {\n    background-color: aqua;\n}\n\n.Destroyer{\n    background-color:rgb(13, 190, 13);\n}\n\n.Patrol {\n    background-color:orange;\n}\n\n.Submarine {\n    background-color:rgb(235, 220, 15);\n}\n\n#btnContainer {\n    text-align: center;\n    margin-bottom: 0px;\n    margin-top: 15%;\n}\n\n#startBtn{\n    line-height: 32px;\n    height: 34px;\n    border: 2px solid rgb(0, 81, 255); \n    font-size: 13px;\n    border-radius: 3.5px;\n    font-family: 'Russo One', sans-serif;\n    color: rgb(61, 59, 59);\n    background-color: white;\n    padding-top: 0px;\n    padding-bottom: 0px;\n}\n\n#rotate, #ready {\n    line-height: 30px;\n    height: 33px;\n    border: 2px solid rgb(0, 81, 255); \n    font-size: 13px;\n    border-radius: 3.5px;\n    font-family: 'Russo One', sans-serif;\n    color: rgb(61, 59, 59);\n    background-color: white;\n}\n\n#ready {\n    border: 2px solid rgb(58, 214, 58); \n}\n\n#toast{\n    width: fit-content;\n    font-family: 'Russo One', sans-serif;\n    margin: 0 auto;\n    margin-top: 20px;\n}\n\n#errorMsg {\n    display: none;\n    position: absolute;\n    border: 2px solid black;\n    font-family: 'Russo One', sans-serif; \n    z-index: 100;\n    border: 2px solid rgb(197, 27, 4);; \n    border-radius: 4px;\n    padding: 5px;\n    width: fit-content;\n    top: 40%;\n    left: 50%;\n    transform: translateY(-40%);\n    transform: translateX(-50%);\n    text-align: center;\n    background-color: rgb(247, 244, 244);\n}\n\n#ok {\n    bottom: 10px;\n    z-index: 99;\n    margin: 0 auto;\n    display: block;\n    border: 2px solid rgb(58, 214, 58); \n    background-color: rgb(58, 214, 58);\n    color: whitesmoke;\n    font-size: 13px;\n    border-radius: 3.5px;\n    font-family: 'Russo One', sans-serif;\n}\n\np {\n    margin: 0 auto;\n    margin-top: 30px;\n    margin-bottom: 30px;\n}\n\n#drag {\n    margin: 0;\n    line-height: 39px;\n    font-family: 'Russo One', sans-serif;\n    font-size: 13px;\n}\n\n#computerBoard {\n    padding-bottom: 20px;\n}\n\n@media screen and (max-width: 1200px) {\n    #computerContainer{\n        margin: 0 auto;\n    }\n\n    #toast {\n        margin-bottom: 20px;\n    }\n    #playerContainer {\n        margin: 0 auto;\n    }\n    #playerBoard {\n        position: relative;\n        \n    }\n    #computerBoard {\n        margin: 0 auto;;\n    }\n}\n\n@media screen and (max-width: 610px){\n    #placeBoard {\n        grid-template-rows: repeat(11, 25px);\n        grid-template-columns: repeat(11, 25px);\n        margin: 0 auto;\n        height: 100%;\n    }\n    .square {\n        line-height: 1.5;\n        height: 100%;\n    }\n    .ship {\n        width: 25px;\n    }\n    #battleship {\n        height: 100px;\n    }\n    #carrier {\n        height: 125px;\n    }\n    #destroyer {\n        height: 75px;\n    }\n    #patrol {\n        height: 50px;\n    } \n    #submarine {\n        height: 75px;\n    }\n    #buttonContainer {\n        margin-top: 15px;\n        margin-bottom: 0px;\n    }\n    #drag {\n        width: 100%;\n        bottom: 0;\n        left: 50%;\n        position: absolute;\n        transform: translateX(-50%);\n        text-align: center;\n        /* top:100%; */\n        /* transform: translateY(-100%); */\n        /* padding-top: 40px; */\n    }\n    #computerBoard {\n        grid-template-rows: repeat(11, 25px);\n        grid-template-columns: repeat(11, 25px);\n        margin: 0 auto;\n        position: absolute;\n        left: 50%;\n        transform: translateX(-50%);\n    }\n    #playerBoard {\n        left: 50%;\n        transform: translateX(-50%);\n    }\n    .label-top, .label-left {\n        line-height: 1.5;\n        text-align: center;\n    }\n}   \n\n@media screen and (max-width: 360px){\n    header {\n        font-size: 85px;\n    }\n}\n\n@media screen and (max-width: 320px){\n    #drag {\n        top:100%;\n    }\n    #shipsContainer {\n        margin-bottom: 0;\n        padding-bottom: 0;\n    }\n    header {\n        margin-bottom: 0px;\n    }\n\n}",""]),n.exports=e},function(n,e,t){"use strict";n.exports=function(n){var e=[];return e.toString=function(){return this.map((function(e){var t=function(n,e){var t=n[1]||"",i=n[3];if(!i)return t;if(e&&"function"==typeof btoa){var o=(r=i,s=btoa(unescape(encodeURIComponent(JSON.stringify(r)))),l="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(s),"/*# ".concat(l," */")),a=i.sources.map((function(n){return"/*# sourceURL=".concat(i.sourceRoot||"").concat(n," */")}));return[t].concat(a).concat([o]).join("\n")}var r,s,l;return[t].join("\n")}(e,n);return e[2]?"@media ".concat(e[2]," {").concat(t,"}"):t})).join("")},e.i=function(n,t,i){"string"==typeof n&&(n=[[null,n,""]]);var o={};if(i)for(var a=0;a<this.length;a++){var r=this[a][0];null!=r&&(o[r]=!0)}for(var s=0;s<n.length;s++){var l=[].concat(n[s]);i&&o[l[0]]||(t&&(l[2]?l[2]="".concat(t," and ").concat(l[2]):l[2]=t),e.push(l))}},e}},function(n,e,t){"use strict";t.r(e);var i=class{constructor(){this.battleshipPosition=null,this.carrierPosition=null,this.destroyerPosition=null,this.patrolPosition=null,this.submarinePosition=null,this.board=[]}generateBoard(){let n=0,e=0;const t=["A","B","C","D","E","F","G","H","I","J"],i=[1,2,3,4,5,6,7,8,9,10];for(let o=0;o<100;o++)this.board[o]=t[n]+i[e],n++,!0===/9$/.test(o)&&(e++,n=0)}placeShips(n,e,t,i,o){this.battleshipPosition=n,this.carrierPosition=e,this.destroyerPosition=t,this.patrolPosition=i,this.submarinePosition=o;for(let a=0,r=0;a<this.board.length;a++,r++)r>4&&(r=0),this.board[a]===n[r]?this.board.splice(a,1,"Battleship"):this.board[a]===e[r]?this.board.splice(a,1,"Carrier"):this.board[a]===t[r]?this.board.splice(a,1,"Destroyer"):this.board[a]===i[r]?this.board.splice(a,1,"Patrol"):this.board[a]===o[r]&&this.board.splice(a,1,"Submarine")}};var o=class{constructor(){this.position=[]}};var a=class extends o{constructor(n,e){super(n),this.type="Battleship",this.orientation=e,this.size=4}};var r=class{constructor(){this.turn=!1}};var s=class extends o{constructor(n,e){super(n),this.type="Destroyer",this.size=3,this.orientation=e}};var l=class{constructor(){this.turn=!1}};var d=class extends o{constructor(n,e){super(n),this.type="Carrier",this.size=5,this.orientation=e}};var c=class extends o{constructor(n,e){super(n),this.type="Patrol",this.size=2,this.orientation=e}};var p=class extends o{constructor(n,e){super(n),this.type="Submarine",this.size=3,this.orientation=e}};var u=()=>{document.getElementById("content").innerHTML='\n    <header>Battleship</header>\n    <div id="btnContainer">\n        <button id="startBtn">Start Game</button>\n    <div>'};var f=n=>{document.getElementById("content").innerHTML=`\n    <header>Battleship</header>\n    <div id="errorMsg">\n         <button id="ok">OK</button>\n    </div>\n    <main id="mainContent">\n        <div id="placeBoard">${n}</div>\n        <div id="shipsContainer" class="dropzone">\n            <div id="buttonContainer">\n                <button id="rotate">Rotate Ships</button>\n                <p id="drag">Drag ships to board to place positions</p>\n                <button id="ready">Ready</button>\n            </div>\n            <div class="ship" id="battleship" draggable="true" ondragstart="event.dataTransfer.setData('text/plain',null)"></div>\n            <div class="ship" id="carrier" draggable="true" ondragstart="event.dataTransfer.setData('text/plain',null)"></div>\n            <div class="ship" id="destroyer" draggable="true" ondragstart="event.dataTransfer.setData('text/plain',null)"></div>\n            <div class="ship" id="patrol" draggable="true" ondragstart="event.dataTransfer.setData('text/plain',null)"></div>\n            <div class="ship" id="submarine" draggable="true" ondragstart="event.dataTransfer.setData('text/plain',null)"></div>\n        </div>\n    </main>`};var h=(n,e)=>{document.getElementById("content").innerHTML=`\n    <header>Battleship</header>\n    <div id="playerContainer">\n        <div id="playerBoard">${n}</div>\n    </div>\n    <div id="errorMsg">\n            <button id="ok">OK</button>\n        </div>\n    <main id="mainContent">\n    <div id="toast" class="hide">Text</div>\n    <div id="computerContainer">\n        <div id="computerBoard">${e}</div>\n    </div>\n    </main>`};t(0);u(),function n(){const e=new r;e.Battleship=new a,e.Carrier=new d,e.Destroyer=new s,e.Patrol=new c,e.Submarine=new p,e.Gameboard=new i;const t=new l;function o(n,i,o){let a=function(n,e){let t=!1,i=!1;for(let o=0;o<e.length&&!0!==i;o++)for(let a=0;a<e[o].position.length;a++)if(n===e[o].position[a]){e[o].position.splice(a,1,n+" - Hit"),t=!0,i=!0;break}return t}(n,i),r=document.getElementById("playerBoard");if(!0===a){let a=function(n,e){let t=!1,i=0,o="";for(let e=0;e<n.length;e++)if("Sunk"!==n[e].position[n[e].position.length-1]){let t=n[e].position.filter(n=>{if(!0===/(- Hit)$/.test(n))return n});if(n[e].position[t.length-1]===n[e].position[n[e].position.length-1]){o=e;break}}if(!0===/\d/.test(o))for(let e=0;e<n[o].position.length;e++){if(!1===/(- Hit)$/.test(n[o].position[e])){i=0;break}if(!0===/(- Hit)$/.test(n[o].position[e])&&i++,!0===/(- Hit)$/.test(n[o].position[e])&&i===n[o].position.length){t=!0;break}}return{sunk:t,index:o}}(i);if(o===e.Gameboard.board&&!1===a.sunk){async function s(){const n=document.getElementById("toast");await g(1e3),n.classList.add("hide")}o.splice(o.indexOf(n),1,n+" - Hit"),toast.classList.remove("hide"),toast.style.color="red",toast.innerText="Hit",s()}else if(o===t.Gameboard.board&&!1===a.sunk){o.splice(o.indexOf(n),1,n+" - Hit");for(let e=10;e<r.children.length;e++)n===r.children[e].id&&(r.children[e].innerText="x",r.children[e].style.color="red")}else if(!0===a.sunk){o.splice(o.indexOf(n),1,n+" - Hit");for(let n=0;n<i[a.index].position.length;n++)null!==i[a.index].position[n].match(/^(\w10)/i)?o.splice(o.indexOf(i[a.index].position[n]),1,i[a.index].position[n].match(/^(\w10)/i)[0]+" - Sunk"):o.splice(o.indexOf(i[a.index].position[n]),1,i[a.index].position[n].match(/^(\w\d)/i)[0]+" - Sunk"),i[a.index].position[n]="Sunk";function l(n){let e=o.filter(n=>{if(!0===/(Sunk)$/.test(n))return n});for(let t=10;t<n.children.length;t++)for(let i=0;i<e.length;i++)null!==e[i].match(/^(\w10)/i)?e[i].match(/^(\w10)/i)[0]===n.children[t].id&&(n.children[t].innerText="X",n.children[t].style.color="black",n.children[t].style.backgroundColor="orangered"):e[i].match(/^(\w\d -)/i)[0].match(/^(\w\d)/i)[0]===n.children[t].id&&(n.children[t].innerText="X",n.children[t].style.color="black",n.children[t].style.backgroundColor="orangered")}if(o===e.Gameboard.board){async function s(){const n=document.getElementById("toast");await g(1e3),n.classList.add("hide"),b("You",i)}l(computerBoard),toast.classList.remove("hide"),toast.style.color="orangered",toast.innerText="Ship sunk!",s()}else o===t.Gameboard.board&&(l(r),b("The Computer",i))}}else if(o.splice(o.indexOf(n),1,"Miss"),o===e.Gameboard.board){async function s(){const n=document.getElementById("toast");await g(1e3),n.classList.add("hide")}toast.classList.remove("hide"),toast.style.color="blue",toast.innerText="Miss",s()}else if(o===t.Gameboard.board)for(let e=10;e<r.children.length;e++)n===r.children[e].id&&(r.children[e].innerText="o",r.children[e].style.color="blue")}function g(n){return new Promise(e=>setTimeout(e,n))}function b(e,t){let i=!1,o=0;for(let n=0;n<t.length;n++)for(let e=0;e<t[n].position.length;e++)"Sunk"===t[n].position[e]&&o++,"Sunk"===t[n].position[e]&&17===o&&(i=!0);if(!i)return!1;{async function a(){const e=document.getElementById("toast");await g(3e3),e.classList.add("hide"),u(),n()}toast.classList.remove("hide"),toast.style.color="black",toast.innerText=`${e} won!`,a()}}t.Battleship=new a,t.Carrier=new d,t.Destroyer=new s,t.Patrol=new c,t.Submarine=new p,t.Gameboard=new i,document.getElementById("startBtn").addEventListener("click",()=>{e.Gameboard.generateBoard();let n=function(n){let e='\n        <div class="square label-top label-left" draggable="false"></div>\n        <div class="square label-top" draggable="false">A</div>\n        <div class="square label-top" draggable="false">B</div>\n        <div class="square label-top" draggable="false">C</div>\n        <div class="square label-top" draggable="false">D</div>\n        <div class="square label-top" draggable="false">E</div>\n        <div class="square label-top" draggable="false">F</div>\n        <div class="square label-top" draggable="false">G</div>\n        <div class="square label-top" draggable="false">H</div>\n        <div class="square label-top" draggable="false">I</div>\n        <div class="square label-top" draggable="false">J</div>',t=[1,2,3,4,5,6,7,8,9,10];return n.forEach(n=>{!0===/A\d$|A\d\d$/.test(n)?(e+=`<div class="square label-left" draggable="false">${t[0]}</div><div id=${n} class="square dropzone"></div>`,t.splice(0,1)):e+=`<div id=${n} class="square dropzone"></div>`}),e}(e.Gameboard.board);f(n);const i=document.getElementById("battleship"),a=document.getElementById("carrier"),r=document.getElementById("destroyer"),s=document.getElementById("patrol"),l=document.getElementById("submarine"),d=document.getElementById("shipsContainer"),c=[i,a,r,s,l],p=document.getElementById("rotate"),u=document.getElementById("ready");let g;c.forEach(n=>{n.orientation="vertical"}),p.addEventListener("click",()=>{c.forEach(n=>{let e=getComputedStyle(n).height,t=getComputedStyle(n).width;n.parentNode===d&&(!function(n){"vertical"===n.orientation?n.orientation="horizontal":n.orientation="vertical"}(n),n.style.height=t,n.style.width=e)})}),c.forEach(n=>{n.addEventListener("drag",(function(n){}),!1),n.addEventListener("dragend",(function(n){n.target.style.opacity=""}),!1)}),document.addEventListener("dragstart",(function(n){g=n.target,g!=i&&g!=a&&g!=r&&g!=s&&g!=l||(n.target.style.opacity=.5)}),!1),document.addEventListener("dragover",(function(n){n.preventDefault()}),!1),document.addEventListener("drop",(function(n){if(n.preventDefault(),n.target.classList.value.includes("dropzone")&&(g==i||g==a||g==r||g==s||g==l)){n.target.style.background="none",g.parentNode.removeChild(g),n.target.classList.contains("square")?(g.style.marginTop="0px",g.style.marginLeft="0px",g.style.marginRight="0px"):(g.style.marginTop="10px",g.style.marginLeft="10px",g.style.marginRight="0px"),n.target.appendChild(g);let i=[(o=g).id,o.orientation,n.target.id];"battleship"===(t=i)[0]?(e.Battleship.orientation=t[1],e.Battleship.position[0]=t[2]):"carrier"===t[0]?(e.Carrier.orientation=t[1],e.Carrier.position[0]=t[2]):"destroyer"===t[0]?(e.Destroyer.orientation=t[1],e.Destroyer.position[0]=t[2]):"patrol"===t[0]?(e.Patrol.orientation=t[1],e.Patrol.position[0]=t[2]):"submarine"===t[0]&&(e.Submarine.orientation=t[1],e.Submarine.position[0]=t[2])}var t,o}),!1),u.addEventListener("click",()=>{const n=[e.Battleship,e.Carrier,e.Destroyer,e.Patrol,e.Submarine];if(!0===function(n,e){n.forEach(n=>{const t=n.position[0];if("vertical"===n.orientation)for(let i=1,o=10;i<n.size;i++)n.position[i]=e[e.indexOf(t)+o],o+=10;else if("horizontal"===n.orientation)for(let i=1,o=1;i<n.size;i++)n.position[i]=e[e.indexOf(t)+o],o+=1});let t=n[0].position.concat(n[1].position,n[2].position,n[3].position,n[4].position),i=!0;for(let n=0;n<t.length;n++)if(t.indexOf(t[n])!==t.lastIndexOf(t[n])){i=!1;break}return!(t.length<17||!0===t.includes(void 0)||!0===t.includes(null))&&i}(n,e.Gameboard.board)){a=e.Battleship,r=e.Carrier,s=e.Destroyer,l=e.Patrol,d=e.Submarine,c=e.Gameboard.board,a.position.forEach(n=>{let e=c.indexOf(n);c.splice(e,1,"Battleship")}),r.position.forEach(n=>{let e=c.indexOf(n);c.splice(e,1,"Carrier")}),s.position.forEach(n=>{let t=e.Gameboard.board.indexOf(n);c.splice(t,1,"Destroyer")}),l.position.forEach(n=>{let t=e.Gameboard.board.indexOf(n);c.splice(t,1,"Patrol")}),d.position.forEach(n=>{let e=c.indexOf(n);c.splice(e,1,"Submarine")});let p=[t.Battleship,t.Carrier,t.Destroyer,t.Patrol,t.Submarine],u=function(){let n='\n        <div class="square label-top-mini label-left-mini" draggable="false"></div>\n        <div class="square label-top-mini" draggable="false">A</div>\n        <div class="square label-top-mini" draggable="false">B</div>\n        <div class="square label-top-mini" draggable="false">C</div>\n        <div class="square label-top-mini" draggable="false">D</div>\n        <div class="square label-top-mini" draggable="false">E</div>\n        <div class="square label-top-mini" draggable="false">F</div>\n        <div class="square label-top-mini" draggable="false">G</div>\n        <div class="square label-top-mini" draggable="false">H</div>\n        <div class="square label-top-mini" draggable="false">I</div>\n        <div class="square label-top-mini" draggable="false">J</div>',t=[1,2,3,4,5,6,7,8,9,10],i=function(){let n=0,e=0;const t=["A","B","C","D","E","F","G","H","I","J"],i=[1,2,3,4,5,6,7,8,9,10],o=[];for(let a=0;a<100;a++)o[a]=t[n]+i[e],n++,!0===/9$/.test(a)&&(e++,n=0);return o}();for(let o=0;o<e.Gameboard.board.length;o++)!0===/A\d$|A\d\d$/.test(e.Gameboard.board[o])||!0===/\w$/.test(e.Gameboard.board[o])&&!0===/0$/.test(o)?(n+=`<div class="square label-left-mini" draggable="false">${t[0]}</div><div id="${i[o]}" class="square game-tile ${e.Gameboard.board[o]}"></div>`,t.splice(0,1)):n+=`<div id="${i[o]}" class="square game-tile ${e.Gameboard.board[o]}"></div>`;return n}();t.Gameboard.generateBoard(),function(){let n=[];for(let e=0;e<5;e++)n[e]=Math.floor(2*Math.random()),0===n[e]?n[e]="Vertical":n[e]="Horizontal";t.Battleship.orientation=n[0],t.Carrier.orientation=n[1],t.Destroyer.orientation=n[2],t.Patrol.orientation=n[3],t.Submarine.orientation=n[4]}(),function n(e,i){let o=t.Gameboard.board;for(let t=0;t<e.length;t++){let r=i||Math.floor(2*Math.random());if(!0!==/(Sunk)$/.test(e[t].position[0])){!1===/\d$/.test(e[t].position[0])&&!1===/(- Hit)$/.test(e[t].position[0])&&!1===/(Sunk)$/.test(e[t].position[0])&&(e[t].position[0]=o[Math.floor(Math.random()*o.length)]);for(let i=1;i<e[t].size;i++){function a(e,a,r){0===e&&/\d$/.test(!1===o[o.indexOf(r[t].position[i-1])+a])||0===e&&o[o.indexOf(r[t].position[i-1])]!==o[r[t].position[0]]?(r[t].position.splice(0),n(r,e)):0===e&&!0===/\d$/.test(o[o.indexOf(r[t].position[i-1])+a])?r[t].position[i]=o[o.indexOf(r[t].position[i-1])+a]:1===e&&!1===/\d$/.test(o[o.indexOf(r[t].position[i-1])-a])||1===e&&o[o.indexOf(r[t].position[i-1])]!==o[r[t].position[0]]?(r[t].position.splice(0),n(r,e)):1===e&&!0===/\d$/.test(o[o.indexOf(r[t].position[i-1])-a])&&(r[t].position[i]=o[o.indexOf(r[t].position[i])-a])}/\d$/.test(!1===e[t].position[i-1])&&/(- Hit)$/.test(!1===e[t].position[i-1])&&i>=2?(e[t].splice(1),i=1):"Horizontal"===e[t].orientation?0===r&&!1===/\d$/.test(o[o.indexOf(e[t].position[i-1])+1])||!0===/^J/i.test(o[o.indexOf(e[t].position[i-1])])&&!0===/^A/i.test(o[o.indexOf(e[t].position[i-1])+1])?(r=1,a(r,1,e)):0===r&&!0===/\d$/.test(o[o.indexOf(e[t].position[i-1])+1])?e[t].position[i]=o[o.indexOf(e[t].position[i-1])+1]:1===r&&!1===/\d$/.test(o[o.indexOf(e[t].position[i-1])-1])||!0===/^A/i.test(o[o.indexOf(e[t].position[i-1])])&&!0===/^J/i.test(o[o.indexOf(e[t].position[i-1])-1])?(r=0,a(r,1,e)):1===r&&!0===/\d$/i.test(o[o.indexOf(e[t].position[i-1])-1])&&(e[t].position[i]=o[o.indexOf(e[t].position[i-1])-1]):"Vertical"===e[t].orientation&&(0===r&&!1===/\d$/.test(o[o.indexOf(e[t].position[i-1])+10])?(r=1,a(r,10,e)):0===r&&!0===/\d$/.test(o[o.indexOf(e[t].position[i-1])+10])?e[t].position[i]=o[o.indexOf(e[t].position[i-1])+10]:1===r&&!1===/\d$/.test(o[o.indexOf(e[t].position[i-1])-10])?(r=0,a(r,10,e)):1===r&&!0===/\d$/.test(o[o.indexOf(e[t].position[i-1])-10])&&(e[t].position[i]=o[o.indexOf(e[t].position[i-1])-10]))}}}!function(n){const e=n[0].position.concat(n[1].position,n[2].position,n[3].position,n[4].position);e.forEach(t=>{if(e.lastIndexOf(t)!==e.indexOf(t)){let i=e.lastIndexOf(t);i>0&&i<=3?n[0].position.splice(0):i>3&&i<9?n[1].position.splice(0):i>=9&&i<12?n[2].position.splice(0):i>=12&&i<14?n[3].position.splice(0):i>=14&&i<17&&n[4].position.splice(0)}})}(e),!0===function(n){let e=!0;for(let t=0;t<n.length&&!1!==e;t++)for(let i=0;i<n[t].size&&!1!==e;i++)if(!0!==/\d$/.test(n[t].position[i])){e=!1;break}return e}(e)||n(e)}(p);let f=function(n){let e='\n        <div class="square label-top label-left" draggable="false"></div>\n        <div class="square label-top" draggable="false">A</div>\n        <div class="square label-top" draggable="false">B</div>\n        <div class="square label-top" draggable="false">C</div>\n        <div class="square label-top" draggable="false">D</div>\n        <div class="square label-top" draggable="false">E</div>\n        <div class="square label-top" draggable="false">F</div>\n        <div class="square label-top" draggable="false">G</div>\n        <div class="square label-top" draggable="false">H</div>\n        <div class="square label-top" draggable="false">I</div>\n        <div class="square label-top" draggable="false">J</div>',t=[1,2,3,4,5,6,7,8,9,10];return n.forEach(n=>{!0===/A\d$|A\d\d$/.test(n)?(e+=`<div class="square label-left" draggable="false">${t[0]}</div><div id=${n} class="square game"></div>`,t.splice(0,1)):e+=`<div id=${n} class="square game"></div>`}),e}(t.Gameboard.board);h(u,f);const g=document.querySelectorAll(".game");let b=p[0].position.concat(p[1].position,p[2].position,p[3].position,p[4].position);e.Gameboard.generateBoard();let m=t.Gameboard.board;const x=document.getElementById("errorMsg");document.getElementById("mainContent");function i(){if(!0===t.turn){let a=m.filter(n=>{if(!0===/(- Hit)$/.test(n))return n}),r=a[Math.floor(Math.random()*a.length)];if(!0===/(- Hit)$/.test(r))!function n(e,t,i,a,r,s,l,d){let c,p,u=l.filter(n=>{if(!1===/(- Hit)$/.test(n)&&!1===/(Miss)$/.test(n)&&!1===/(- Sunk)$/.test(n))return n});if(void 0===s&&(c=u[Math.floor(Math.random()*u.length)],o(c,r,l)),!0===/^A/.test(l[l.indexOf(s)])&&!0===/^J/.test(l[l.indexOf(s)-1])&&(t=!1),!0===/^J/.test(l[l.indexOf(s)])&&!0===/^A/.test(l[l.indexOf(s)+1])&&(e=!1),l.includes(s))if(e&&t&&i&&a)p=Math.floor(2*Math.random()),0===p?(p=Math.floor(2*Math.random()),0===p?(c=l[l.indexOf(s)+1],o(c,r,l)):1===p&&(c=l[l.indexOf(s)-1],o(c,r,l))):1===p&&(p=Math.floor(2*Math.random()),0===p&&(p=Math.floor(2*Math.random()),0===p?(c=l[l.indexOf(s)+10],o(c,r,l)):1===p&&(c=l[l.indexOf(s)-10],o(c,r,l))));else if(e&&t&&i&&!a)p=Math.floor(2*Math.random()),0===p?(p=Math.floor(2*Math.random()),0===p?(c=l[l.indexOf(s)+1],o(c,r,l)):1===p&&(c=l[l.indexOf(s)-1],o(c,r,l))):1===p&&(c=l[l.indexOf(s)+10],o(c,r,l));else if(e&&t&&a&&!i)p=Math.floor(2*Math.random()),0===p?(p=Math.floor(2*Math.random()),0===p?(c=l[l.indexOf(s)+1],o(c,r,l)):1===p&&(c=l[l.indexOf(s)-1],o(c,r,l))):1===p&&(c=l[l.indexOf(s)-10],o(c,r,l));else if(t&&i&&a&&!e)p=Math.floor(2*Math.random()),0===p?(c=l[l.indexOf(s)-1],o(c,r,l)):1===p&&(p=Math.floor(2*Math.random()),0===p?(c=l[l.indexOf(s)+10],o(c,r,l)):1===p&&(c=l[l.indexOf(s)-10],o(c,r,l)));else if(e&&i&&a&&!t)p=Math.floor(2*Math.random()),0===p?(c=l[l.indexOf(s)+1],o(c,r,l)):1===p&&(p=Math.floor(2*Math.random()),0===p?(c=l[l.indexOf(s)+10],o(c,r,l)):1===p&&(c=l[l.indexOf(s)-10],o(c,r,l)));else if(e&&t&&!i&&!a)p=Math.floor(2*Math.random()),0===p?(c=l[l.indexOf(s)+1],o(c,r,l)):1===p&&(c=l[l.indexOf(s)-1],o(c,r,l));else if(!e&&!t&&i&&a)p=Math.floor(2*Math.random()),0===p?(c=l[l.indexOf(s)+10],o(c,r,l)):1===p&&(c=l[l.indexOf(s)-10],o(c,r,l));else if(e&&!t&&i&&!a)p=Math.floor(2*Math.random()),0===p?(c=l[l.indexOf(s)+1],o(c,r,l)):1===p&&(c=l[l.indexOf(s)+10],o(c,r,l));else if(e&&!t&&!i&&a)p=Math.floor(2*Math.random()),0===p?(c=l[l.indexOf(s)+1],o(c,r,l)):1===p&&(c=l[l.indexOf(s)-10],o(c,r,l));else if(!e&&t&&i&&!a)p=Math.floor(2*Math.random()),0===p?(c=l[l.indexOf(s)-1],o(c,r,l)):1===p&&(c=l[l.indexOf(s)+10],o(c,r,l));else if(e&&!t&&!i&&a)p=Math.floor(2*Math.random()),0===p?(c=l[l.indexOf(s)+1],o(c,r,l)):1===p&&(c=l[l.indexOf(s)-10],o(c,r,l));else if(!e&&t&&!i&&a)p=Math.floor(2*Math.random()),0===p?(c=l[l.indexOf(s)-1],o(c,r,l)):1===p&&(c=l[l.indexOf(s)-10],o(c,r,l));else if(!e||t||i||a)if(!t||e||i||a)if(e||t||!i||a)if(e||t||i||!a)if(e||t||i||a){let n=l.filter(n=>{if(!1===/(- Hit)$/.test(n)&&"Miss"!==n&&!1===/(- Sunk)$/.test(n))return n});c=n[Math.floor(Math.random()*n.length)],o(c,r,l)}else{d.splice(d.indexOf(s),1);let e=d[Math.floor(Math.random()*d.length)];n(/\d$/.test(l[l.indexOf(e)+1]),/\d$/.test(l[l.indexOf(e)-1]),/\d$/.test(l[l.indexOf(e)+10]),/\d$/.test(l[l.indexOf(e)-10]),r,e,l,d)}else c=l[l.indexOf(s)-10],o(c,r,l);else c=l[l.indexOf(s)+10],o(c,r,l);else c=l[l.indexOf(s)-1],o(c,r,l);else c=l[l.indexOf(s)+1],o(c,r,l)}(/\d$/.test(m[m.indexOf(r)+1]),/\d$/.test(m[m.indexOf(r)-1]),/\d$/.test(m[m.indexOf(r)+10]),/\d$/.test(m[m.indexOf(r)-10]),n,r,m,a);else{let e=m.filter(n=>{if(!1===/(- Hit)$/.test(n)&&!1===/(Miss)$/.test(n)&&!1===/(Sunk)$/.test(n))return n});o(e[Math.floor(Math.random()*e.length)],n,m)}t.turn=!1,e.turn=!0,i()}}g.forEach(n=>{n.addEventListener("click",()=>{if(n.classList.contains("game")){n.style.pointerEvents="auto";for(let a=0;a<b.length;a++){if("x"===n.innerText||"o"===n.innerText||"X"===n.innerText){x.innerHTML='\n                                    <p>You can\'t select a position that is already taken</p>\n                                    <button id="ok">OK</button>',x.style.display="block",document.getElementById("ok").addEventListener("click",()=>{x.style.display="none"}),i();break}if(n.id===b[a]&&""===n.innerText){n.innerText="x",n.style.backgroundColor="red",b.splice(a,1),e.turn=!1,o(n.id,p,e.Gameboard.board),t.turn=!0,i();break}if(a===b.length-1){n.innerText="o",n.style.color="blue",e.turn=!1,o(n.id,p,e.Gameboard.board),t.turn=!0,i();break}}}})}),function(){const n=document.getElementById("toast");0===Math.floor(2*Math.random())?(e.turn=!0,n.classList.remove("hide"),n.innerText="Your turn - click a position on the empty board to attack"):t.turn=!0}(),i()}else document.getElementById("errorMsg").innerHTML='\n                <p>One or more ships is improperly placed</p>\n                <button id="ok">OK</button>',document.getElementById("errorMsg").style.display="block",document.getElementById("ok").addEventListener("click",()=>{document.getElementById("errorMsg").style.display="none"});var a,r,s,l,d,c})})}()}]);